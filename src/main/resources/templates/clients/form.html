<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja" th:replace="~{layout :: layout (~{::title}, ~{::section})}">

<head>
    <title>営業先フォーム</title>
</head>
<section>
    <h2 th:text="${client.id} == null ? '新規登録' : '編集'"></h2>

    <form th:action="${client.id} == null ? @{/clients} : @{'/clients/' + ${client.id}}" method="post"
        th:object="${client}">
        <div class="field">
            <label>名前</label>
            <input type="text" th:field="*{name}">
            <div class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">err</div>
        </div>
        <div class="field">
            <label>連絡先</label>
            <input type="text" th:field="*{contact}">
            <div class="error" th:if="${#fields.hasErrors('contact')}" th:errors="*{contact}">err</div>
        </div>
        <div class="field">
            <label>次回訪問日</label>
            <input type="date" th:field="*{nextVisit}">
            <div class="error" th:if="${#fields.hasErrors('nextVisit')}" th:errors="*{nextVisit}">err</div>
        </div>

        <!-- ★ メモ -->
        <div class="field">
            <label>メモ</label>
            <textarea th:field="*{note}" rows="4"></textarea>
            <div class="error" th:if="${#fields.hasErrors('note')}" th:errors="*{note}">err</div>
        </div>

        <button type="submit">保存</button>
        <a th:href="@{/clients}">戻る</a>
    </form>
</section>

</html>